'use strict';var B=require('axios');function _interopDefault(e){return e&&e.__esModule?e:{default:e}}var B__default=/*#__PURE__*/_interopDefault(B);var w=async(t,e)=>{let r=typeof e=="function"?await e(t):e;if(r)return t.scheme==="bearer"?`Bearer ${r}`:t.scheme==="basic"?`Basic ${btoa(r)}`:r},O=(t,e,r)=>{typeof r=="string"?t.append(e,r):t.append(e,JSON.stringify(r));},h=(t,e,r)=>{if(e!=null){if(typeof e=="string"||e instanceof Blob)return t.append(r??"key",e);if(typeof e!="object")return t.append(r??"key",JSON.stringify(e));if(Array.isArray(e)){e.forEach((n,a)=>{h(t,n,r?`${r}[${a}]`:`array[${a}]`);});return}for(let[n,a]of Object.entries(e))h(t,a,r?`${r}[${n}]`:n);}},j={bodySerializer:t=>{let e=new FormData;return h(e,t),e}},$={bodySerializer:t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString():r)},q={bodySerializer:t=>{let e=new URLSearchParams;return Object.entries(t).forEach(([r,n])=>{n!=null&&(Array.isArray(n)?n.forEach(a=>O(e,r,a)):O(e,r,n));}),e.toString()}},P=t=>{switch(t){case "label":return ".";case "matrix":return ";";case "simple":return ",";default:return "&"}},k=t=>{switch(t){case "form":return ",";case "pipeDelimited":return "|";case "spaceDelimited":return "%20";default:return ","}},v=t=>{switch(t){case "label":return ".";case "matrix":return ";";case "simple":return ",";default:return "&"}},g=({allowReserved:t,explode:e,name:r,style:n,value:a})=>{if(!e){let i=(t?a:a.map(o=>encodeURIComponent(o))).join(k(n));switch(n){case "label":return `.${i}`;case "matrix":return `;${r}=${i}`;case "simple":return i;default:return `${r}=${i}`}}let s=P(n),l=a.map(i=>n==="label"||n==="simple"?t?i:encodeURIComponent(i):f({allowReserved:t,name:r,value:i})).join(s);return n==="label"||n==="matrix"?s+l:l},f=({allowReserved:t,name:e,value:r})=>{if(r==null)return "";if(typeof r=="object")throw new Error("Deeply-nested arrays/objects aren\u2019t supported. Provide your own `querySerializer()` to handle these.");return `${e}=${t?r:encodeURIComponent(r)}`},b=({allowReserved:t,explode:e,name:r,style:n,value:a})=>{if(a instanceof Date)return `${r}=${a.toISOString()}`;if(n!=="deepObject"&&!e){let i=[];Object.entries(a).forEach(([u,d])=>{i=[...i,u,t?d:encodeURIComponent(d)];});let o=i.join(",");switch(n){case "form":return `${r}=${o}`;case "label":return `.${o}`;case "matrix":return `;${r}=${o}`;default:return o}}let s=v(n),l=Object.entries(a).map(([i,o])=>f({allowReserved:t,name:n==="deepObject"?`${r}[${i}]`:i,value:o})).join(s);return n==="label"||n==="matrix"?s+l:l};var T=/\{[^{}]+\}/g,E=({path:t,url:e})=>{let r=e,n=e.match(T);if(n)for(let a of n){let s=false,l=a.substring(1,a.length-1),i="simple";l.endsWith("*")&&(s=true,l=l.substring(0,l.length-1)),l.startsWith(".")?(l=l.substring(1),i="label"):l.startsWith(";")&&(l=l.substring(1),i="matrix");let o=t[l];if(o==null)continue;if(Array.isArray(o)){r=r.replace(a,g({explode:s,name:l,style:i,value:o}));continue}if(typeof o=="object"){r=r.replace(a,b({explode:s,name:l,style:i,value:o}));continue}if(i==="matrix"){r=r.replace(a,`;${f({name:l,value:o})}`);continue}let u=encodeURIComponent(i==="label"?`.${o}`:o);r=r.replace(a,u);}return r},U=({allowReserved:t,array:e,object:r}={})=>a=>{let s=[];if(a&&typeof a=="object")for(let l in a){let i=a[l];if(i!=null){if(Array.isArray(i)){s=[...s,g({allowReserved:t,explode:true,name:l,style:"form",value:i,...e})];continue}if(typeof i=="object"){s=[...s,b({allowReserved:t,explode:true,name:l,style:"deepObject",value:i,...r})];continue}s=[...s,f({allowReserved:t,name:l,value:i})];}}return s.join("&")},A=async({security:t,...e})=>{for(let r of t){let n=await w(r,e.auth);if(!n)continue;let a=r.name??"Authorization";switch(r.in){case "query":e.query||(e.query={}),e.query[a]=n;break;case "header":default:e.headers[a]=n;break}return}},S=t=>D({path:t.path,query:t.paramsSerializer?undefined:t.query,querySerializer:typeof t.querySerializer=="function"?t.querySerializer:U(t.querySerializer),url:t.url}),D=({path:t,query:e,querySerializer:r,url:n})=>{let s=n.startsWith("/")?n:`/${n}`;t&&(s=E({path:t,url:s}));let l=e?r(e):"";return l.startsWith("?")&&(l=l.substring(1)),l&&(s+=`?${l}`),s},x=(t,e)=>{let r={...t,...e};return r.headers=y(t.headers,e.headers),r},H=["common","delete","get","head","patch","post","put"],y=(...t)=>{let e={};for(let r of t){if(!r||typeof r!="object")continue;let n=Object.entries(r);for(let[a,s]of n)if(H.includes(a)&&typeof s=="object")e[a]={...e[a],...s};else if(s===null)delete e[a];else if(Array.isArray(s))for(let l of s)e[a]=[...e[a]??[],l];else s!==undefined&&(e[a]=typeof s=="object"?JSON.stringify(s):s);}return e},C=(t={})=>({...t});var I=(t={})=>{let e=x(C(),t),{auth:r,...n}=e,a=B__default.default.create(n),s=()=>({...e}),l=o=>(e=x(e,o),a.defaults={...a.defaults,...e,headers:y(a.defaults.headers,e.headers)},s()),i=async o=>{let u={...e,...o,axios:o.axios??e.axios??a,headers:y(e.headers,o.headers)};u.security&&await A({...u,security:u.security}),u.body&&u.bodySerializer&&(u.body=u.bodySerializer(u.body));let d=S(u);try{let m=u.axios,{auth:c,...R}=u,z=await m({...R,baseURL:u.baseURL,data:u.body,headers:u.headers,params:u.paramsSerializer?u.query:void 0,url:d}),{data:p}=z;return u.responseType==="json"&&(u.responseValidator&&await u.responseValidator(p),u.responseTransformer&&(p=await u.responseTransformer(p))),{...z,data:p??{}}}catch(m){let c=m;if(u.throwOnError)throw c;return c.error=c.response?.data??{},c}};return {buildUrl:S,delete:o=>i({...o,method:"DELETE"}),get:o=>i({...o,method:"GET"}),getConfig:s,head:o=>i({...o,method:"HEAD"}),instance:a,options:o=>i({...o,method:"OPTIONS"}),patch:o=>i({...o,method:"PATCH"}),post:o=>i({...o,method:"POST"}),put:o=>i({...o,method:"PUT"}),request:i,setConfig:l}};exports.createClient=I;exports.createConfig=C;exports.formDataBodySerializer=j;exports.jsonBodySerializer=$;exports.urlSearchParamsBodySerializer=q;//# sourceMappingURL=index.cjs.map
//# sourceMappingURL=index.cjs.map