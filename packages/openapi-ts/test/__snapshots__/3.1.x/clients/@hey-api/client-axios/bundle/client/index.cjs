'use strict';var D=require('axios');function _interopDefault(e){return e&&e.__esModule?e:{default:e}}var D__default=/*#__PURE__*/_interopDefault(D);var R=async(r,e)=>{let t=typeof e=="function"?await e(r):e;if(t)return r.scheme==="bearer"?`Bearer ${t}`:r.scheme==="basic"?`Basic ${btoa(t)}`:t},C=(r,e,t)=>{typeof t=="string"?r.append(e,t):r.append(e,JSON.stringify(t));},h=(r,e,t)=>{if(e!=null){if(typeof e=="string"||e instanceof Blob)return r.append(t??"key",e);if(typeof e!="object")return r.append(t??"key",JSON.stringify(e));if(Array.isArray(e)){e.forEach((n,a)=>{h(r,n,t?`${t}[${a}]`:`array[${a}]`);});return}for(let[n,a]of Object.entries(e))h(r,a,t?`${t}[${n}]`:n);}},O={bodySerializer:r=>{let e=new FormData;return h(e,r),e}},$={bodySerializer:r=>JSON.stringify(r)},q={bodySerializer:r=>{let e=new URLSearchParams;return Object.entries(r).forEach(([t,n])=>{n!=null&&(Array.isArray(n)?n.forEach(a=>C(e,t,a)):C(e,t,n));}),e}},v=r=>{switch(r){case "label":return ".";case "matrix":return ";";case "simple":return ",";default:return "&"}},k=r=>{switch(r){case "form":return ",";case "pipeDelimited":return "|";case "spaceDelimited":return "%20";default:return ","}},P=r=>{switch(r){case "label":return ".";case "matrix":return ";";case "simple":return ",";default:return "&"}},g=({allowReserved:r,explode:e,name:t,style:n,value:a})=>{if(!e){let o=(r?a:a.map(i=>encodeURIComponent(i))).join(k(n));switch(n){case "label":return `.${o}`;case "matrix":return `;${t}=${o}`;case "simple":return o;default:return `${t}=${o}`}}let s=v(n),l=a.map(o=>n==="label"||n==="simple"?r?o:encodeURIComponent(o):f({allowReserved:r,name:t,value:o})).join(s);return n==="label"||n==="matrix"?s+l:l},f=({allowReserved:r,name:e,value:t})=>{if(t==null)return "";if(typeof t=="object")throw new Error("Deeply-nested arrays/objects aren\u2019t supported. Provide your own `querySerializer()` to handle these.");return `${e}=${r?t:encodeURIComponent(t)}`},b=({allowReserved:r,explode:e,name:t,style:n,value:a})=>{if(a instanceof Date)return `${t}=${a.toISOString()}`;if(n!=="deepObject"&&!e){let o=[];Object.entries(a).forEach(([u,d])=>{o=[...o,u,r?d:encodeURIComponent(d)];});let i=o.join(",");switch(n){case "form":return `${t}=${i}`;case "label":return `.${i}`;case "matrix":return `;${t}=${i}`;default:return i}}let s=P(n),l=Object.entries(a).map(([o,i])=>f({allowReserved:r,name:n==="deepObject"?`${t}[${o}]`:o,value:i})).join(s);return n==="label"||n==="matrix"?s+l:l};var U=/\{[^{}]+\}/g,E=({path:r,url:e})=>{let t=e,n=e.match(U);if(n)for(let a of n){let s=false,l=a.substring(1,a.length-1),o="simple";l.endsWith("*")&&(s=true,l=l.substring(0,l.length-1)),l.startsWith(".")?(l=l.substring(1),o="label"):l.startsWith(";")&&(l=l.substring(1),o="matrix");let i=r[l];if(i==null)continue;if(Array.isArray(i)){t=t.replace(a,g({explode:s,name:l,style:o,value:i}));continue}if(typeof i=="object"){t=t.replace(a,b({explode:s,name:l,style:o,value:i}));continue}if(o==="matrix"){t=t.replace(a,`;${f({name:l,value:i})}`);continue}let u=encodeURIComponent(o==="label"?`.${i}`:i);t=t.replace(a,u);}return t},B=({allowReserved:r,array:e,object:t}={})=>a=>{let s=[];if(a&&typeof a=="object")for(let l in a){let o=a[l];if(o!=null){if(Array.isArray(o)){s=[...s,g({allowReserved:r,explode:true,name:l,style:"form",value:o,...e})];continue}if(typeof o=="object"){s=[...s,b({allowReserved:r,explode:true,name:l,style:"deepObject",value:o,...t})];continue}s=[...s,f({allowReserved:r,name:l,value:o})];}}return s.join("&")},A=async({security:r,...e})=>{for(let t of r){let n=await R(t,e.auth);if(!n)continue;let a=t.name??"Authorization";switch(t.in){case "query":e.query||(e.query={}),e.query[a]=n;break;case "header":default:e.headers[a]=n;break}return}},x=r=>H({path:r.path,query:r.paramsSerializer?undefined:r.query,querySerializer:typeof r.querySerializer=="function"?r.querySerializer:B(r.querySerializer),url:r.url}),H=({path:r,query:e,querySerializer:t,url:n})=>{let s=n.startsWith("/")?n:`/${n}`;r&&(s=E({path:r,url:s}));let l=e?t(e):"";return l.startsWith("?")&&(l=l.substring(1)),l&&(s+=`?${l}`),s},S=(r,e)=>{let t={...r,...e};return t.headers=y(r.headers,e.headers),t},T=["common","delete","get","head","patch","post","put"],y=(...r)=>{let e={};for(let t of r){if(!t||typeof t!="object")continue;let n=Object.entries(t);for(let[a,s]of n)if(T.includes(a)&&typeof s=="object")e[a]={...e[a],...s};else if(s===null)delete e[a];else if(Array.isArray(s))for(let l of s)e[a]=[...e[a]??[],l];else s!==undefined&&(e[a]=typeof s=="object"?JSON.stringify(s):s);}return e},z=(r={})=>({baseURL:"",...r});var L=r=>{let e=S(z(),r),{auth:t,...n}=e,a=D__default.default.create(n),s=()=>({...e}),l=i=>(e=S(e,i),a.defaults={...a.defaults,...e,headers:y(a.defaults.headers,e.headers)},s()),o=async i=>{let u={...e,...i,axios:i.axios??e.axios??a,headers:y(e.headers,i.headers)};u.security&&await A({...u,security:u.security}),u.body&&u.bodySerializer&&(u.body=u.bodySerializer(u.body));let d=x(u);try{let m=u.axios,{auth:c,...j}=u,w=await m({...j,data:u.body,headers:u.headers,params:u.paramsSerializer?u.query:void 0,url:d}),{data:p}=w;return u.responseType==="json"&&(u.responseValidator&&await u.responseValidator(p),u.responseTransformer&&(p=await u.responseTransformer(p))),{...w,data:p??{}}}catch(m){let c=m;if(u.throwOnError)throw c;return c.error=c.response?.data??{},c}};return {buildUrl:x,delete:i=>o({...i,method:"delete"}),get:i=>o({...i,method:"get"}),getConfig:s,head:i=>o({...i,method:"head"}),instance:a,options:i=>o({...i,method:"options"}),patch:i=>o({...i,method:"patch"}),post:i=>o({...i,method:"post"}),put:i=>o({...i,method:"put"}),request:o,setConfig:l}};exports.createClient=L;exports.createConfig=z;exports.formDataBodySerializer=O;exports.jsonBodySerializer=$;exports.urlSearchParamsBodySerializer=q;//# sourceMappingURL=index.cjs.map
//# sourceMappingURL=index.cjs.map